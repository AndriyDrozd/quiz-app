(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{cAcB:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class o{}var i=t("pMnS"),u=t("SVse"),r=t("s7LF"),a=function(n){return n.TryLogin="[Auth] Try login",n.Auth="[Auth] Auth",n.Loginned="[Auth] Logined",n}({});class s{constructor(){this.type=a.TryLogin}}class d{constructor(n,l,t){this.authService=n,this.router=l,this.store=t,this.hideTextLogin=!0,this.loaded=!1,this.spinner=!1,this.isSignUp=!1,this.tryLogin()}ngOnInit(){this.loginForm=new r.g({email:new r.e(null,[r.o.required,r.o.email]),password:new r.e(null,[r.o.required,r.o.minLength(6),r.o.maxLength(30)])})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}isTrueCharacter(n){"/|,?_&^%$#!*()+=-".includes(n.data)&&(n.target.value=n.target.value.substr(0,n.target.value.length-1))}tryLogin(){this.store.dispatch(new s)}showSpinner(){this.hideTextLogin=!this.hideTextLogin,this.spinner=!this.spinner}setUidUserInLocalstorage(n){localStorage.setItem("uid",n)}signUp(){this.isSignUp=!this.isSignUp}onSubmit(){this.showSpinner(),this.isSignUp?this.authService.signUp(this.loginForm.value).then(n=>{this.setUidUserInLocalstorage(n.user.uid),this.router.navigate(["/quiz/news"])},n=>{setTimeout(()=>{this.showSpinner()},500)}):this.authService.login(this.loginForm.value).then(n=>{this.setUidUserInLocalstorage(n.user.uid),this.router.navigate(["/quiz/news"])},n=>{setTimeout(()=>{this.showSpinner()},500)})}}var c=t("irV9");let g=(()=>{class n{constructor(n){this.afAuth=n}login(n){return this.afAuth.auth.signInWithEmailAndPassword(n.email,n.password)}signUp(n){return this.afAuth.auth.createUserWithEmailAndPassword(n.email,n.password)}}return n.ngInjectableDef=e["\u0275\u0275defineInjectable"]({factory:function(){return new n(e["\u0275\u0275inject"](c.a))},token:n,providedIn:"root"}),n})();var p=t("iInd"),m=t("DQLy"),h=e["\u0275crt"]({encapsulation:0,styles:[['.image1[_ngcontent-%COMP%]{max-height:1500px;height:1000px;background-image:linear-gradient(to bottom right,#000001,#2c3446);font-family:sans-serif}.loginbox[_ngcontent-%COMP%]{width:320px;background:#2c3446;color:#fff;top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);box-sizing:border-box;padding:70px 30px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;position:absolute;top:-50px;left:calc(50% - 50px)}h1[_ngcontent-%COMP%]{margin:0;padding:0 0 20px;text-align:center;font-size:22px}.loginbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;padding:0;font-weight:700}.loginbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{margin-bottom:10px}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:active, input[_ngcontent-%COMP%]:-webkit-autofill:focus, input[_ngcontent-%COMP%]:-webkit-autofill:hover{transition:background-color 5000s ease-in-out 0s;-webkit-text-fill-color:#fff!important}button[_ngcontent-%COMP%]{outline:0}.loginbox[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{border:none;border-bottom:1px solid #fff;background:0 0;outline:0;height:40px;color:#fff;font-size:16px}.form-help-text[_ngcontent-%COMP%]{color:#fb494d;font-size:15px;display:block;margin-top:15px}.form-help-text-error[_ngcontent-%COMP%]{color:#fb494d;font-size:15px;display:block}.submitButton[disabled][_ngcontent-%COMP%]{height:40px;width:260px;margin-top:15px;border:none}.submitButton[disabled][_ngcontent-%COMP%]:hover{cursor:not-allowed;background-color:#e84118;border:none}.submitButton[_ngcontent-%COMP%]{height:40px;width:260px;margin-top:15px;transition:.5s;background-color:teal;color:#fff;border:none}.submitButton[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#4cd137;color:#fff;border:none}.auth-type-button[_ngcontent-%COMP%]{height:40px;width:260px;margin-top:15px;transition:.5s;background-color:teal;color:#fff;border:none;cursor:pointer}.auth-type-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.loginbox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:12px;line-height:20px;color:#a9a9a9}.awesome[_ngcontent-%COMP%]{background-color:red}.circle-loader[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-left-color:#5cb85c;-webkit-animation:1.2s linear infinite loader-spin;animation:1.2s linear infinite loader-spin;position:relative;display:inline-block;vertical-align:top;border-radius:50%;width:25px;height:25px}.load-complete[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;border:none;transition:border 5s ease-out}.checkmark.draw[_ngcontent-%COMP%]:after{-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-name:checkmark;animation-name:checkmark;transform:scaleX(-1) rotate(135deg)}.checkmark[_ngcontent-%COMP%]:after{opacity:1;height:20px;width:10px;transform-origin:left top;border-right:3px solid #5cb85c;border-top:3px solid #5cb85c;content:"";left:0;top:13px;position:absolute}@-webkit-keyframes loader-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes loader-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes checkmark{0%{height:0;width:0;opacity:1}20%{height:0;width:10px;opacity:1}100%,40%{height:20px;width:10px;opacity:1}}@keyframes checkmark{0%{height:0;width:0;opacity:1}20%{height:0;width:10px;opacity:1}100%,40%{height:20px;width:10px;opacity:1}}']],data:{}});function f(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Email cannot be empty."]))],null,null)}function v(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Enter a valid email."]))],null,null)}function b(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,4,"span",[["class","form-help-text"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,f)),e["\u0275did"](2,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,v)),e["\u0275did"](4,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.email.errors.required),n(l,4,0,t.email.errors.email)},null)}function w(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Password cannot be empty."]))],null,null)}function C(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,["Password should be more "," characters. Now ","."]))],null,function(n,l){var t=l.component;n(l,1,0,t.password.errors.minlength.requiredLength,t.password.errors.minlength.actualLength)})}function x(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" Password should be less "," characters. Now ",". "]))],null,function(n,l){var t=l.component;n(l,1,0,t.password.errors.maxlength.requiredLength,t.password.errors.maxlength.actualLength)})}function k(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,6,"span",[["class","form-help-text"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,w)),e["\u0275did"](2,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,C)),e["\u0275did"](4,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,x)),e["\u0275did"](6,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.password.errors.required),n(l,4,0,t.password.errors.minlength&&t.password.errors.minlength.requiredLength),n(l,6,0,t.password.errors.maxlength&&t.password.errors.maxlength.requiredLength)},null)}function I(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.isSignUp?"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438":"\u0423\u0432\u0456\u0439\u0442\u0438")})}function y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"div",[["class","checkmark draw"]],null,null,null,null,null))],null,null)}function P(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"div",[["class","circle-loader"]],null,null,null,null,null)),e["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2]),e["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](3,{"load-complete":0}),(n()(),e["\u0275and"](16777216,null,null,1,null,y)),e["\u0275did"](5,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component,e=n(l,3,0,t.loaded);n(l,2,0,"circle-loader",e),n(l,5,0,t.loaded)},null)}function _(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,39,"div",[["class","image1"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,38,"div",[["class","loginbox"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,0,"img",[["class","avatar"],["src","../../../../assets/images/avatar.png"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,[" ",""])),(n()(),e["\u0275eld"](5,0,null,null,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,t){var o=!0,i=n.component;return"submit"===l&&(o=!1!==e["\u0275nov"](n,7).onSubmit(t)&&o),"reset"===l&&(o=!1!==e["\u0275nov"](n,7).onReset()&&o),"ngSubmit"===l&&(o=!1!==i.onSubmit()&&o),o},null,null)),e["\u0275did"](6,16384,null,0,r.s,[],null,null),e["\u0275did"](7,540672,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e["\u0275prd"](2048,null,r.b,null,[r.h]),e["\u0275did"](9,16384,null,0,r.m,[[4,r.b]],null,null),(n()(),e["\u0275eld"](10,0,null,null,1,"span",[["class","form-help-text-error"]],null,null,null,null,null)),(n()(),e["\u0275ted"](11,null,[" "," "])),(n()(),e["\u0275eld"](12,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u0430 \u043f\u043e\u0448\u0442\u0430"])),(n()(),e["\u0275eld"](14,0,null,null,5,"input",[["formControlName","email"],["id","email"],["placeholder","Enter Username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,15)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,15).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,15)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,15)._compositionEnd(t.target.value)&&o),"input"===l&&(o=!1!==i.isTrueCharacter(t)&&o),o},null,null)),e["\u0275did"](15,16384,null,0,r.c,[e.Renderer2,e.ElementRef,[2,r.a]],null,null),e["\u0275prd"](1024,null,r.j,function(n){return[n]},[r.c]),e["\u0275did"](17,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.r]],{name:[0,"name"]},null),e["\u0275prd"](2048,null,r.k,null,[r.f]),e["\u0275did"](19,16384,null,0,r.l,[[4,r.k]],null,null),(n()(),e["\u0275and"](16777216,null,null,1,null,b)),e["\u0275did"](21,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](22,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["\u041f\u0430\u0440\u043e\u043b\u044c"])),(n()(),e["\u0275eld"](24,0,null,null,5,"input",[["formControlName","password"],["id","password"],["placeholder","Enter Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,25)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,25).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,25)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,25)._compositionEnd(t.target.value)&&o),o},null,null)),e["\u0275did"](25,16384,null,0,r.c,[e.Renderer2,e.ElementRef,[2,r.a]],null,null),e["\u0275prd"](1024,null,r.j,function(n){return[n]},[r.c]),e["\u0275did"](27,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.r]],{name:[0,"name"]},null),e["\u0275prd"](2048,null,r.k,null,[r.f]),e["\u0275did"](29,16384,null,0,r.l,[[4,r.k]],null,null),(n()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](31,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](32,0,null,null,4,"button",[["class","submitButton"],["type","submit"]],[[8,"disabled",0],[2,"awesome",null]],null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,I)),e["\u0275did"](34,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,P)),e["\u0275did"](36,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](37,0,null,null,2,"button",[["class","auth-type-button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.signUp()&&e),e},null,null)),(n()(),e["\u0275eld"](38,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](39,null,[" ",""]))],function(n,l){var t=l.component;n(l,7,0,t.loginForm),n(l,17,0,"email"),n(l,21,0,t.email.invalid&&t.email.touched),n(l,27,0,"password"),n(l,31,0,t.password.invalid&&t.password.touched),n(l,34,0,t.hideTextLogin),n(l,36,0,t.spinner)},function(n,l){var t=l.component;n(l,4,0,t.isSignUp?"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438":"\u0423\u0432\u0456\u0439\u0442\u0438"),n(l,5,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,11,0,t.status),n(l,14,0,e["\u0275nov"](l,19).ngClassUntouched,e["\u0275nov"](l,19).ngClassTouched,e["\u0275nov"](l,19).ngClassPristine,e["\u0275nov"](l,19).ngClassDirty,e["\u0275nov"](l,19).ngClassValid,e["\u0275nov"](l,19).ngClassInvalid,e["\u0275nov"](l,19).ngClassPending),n(l,24,0,e["\u0275nov"](l,29).ngClassUntouched,e["\u0275nov"](l,29).ngClassTouched,e["\u0275nov"](l,29).ngClassPristine,e["\u0275nov"](l,29).ngClassDirty,e["\u0275nov"](l,29).ngClassValid,e["\u0275nov"](l,29).ngClassInvalid,e["\u0275nov"](l,29).ngClassPending),n(l,32,0,t.loginForm.invalid,t.isError),n(l,39,0,t.isSignUp?"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044f":"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f")})}function M(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-auth",[],null,null,null,_,h)),e["\u0275did"](1,114688,null,0,d,[g,p.k,m.n],null,null)],function(n,l){n(l,1,0)},null)}var O=e["\u0275ccf"]("app-auth",d,M,{},{},[]);class L{}const R={loading:!1,isLogined:!1};function S(n=R,l){switch(l.type){case a.Auth:return{loading:!1,isLogined:!0};case a.Loginned:return Object.assign({},R,{isLogined:!!localStorage.getItem("uid")||!1});default:return n}}var T=t("Yml6"),N=t("vkgz");class U{constructor(n,l,t){this.actions$=n,this.router=l,this.authService=t,this.tryLogin$=Object(T.c)(()=>this.actions$.pipe(Object(T.d)(a.TryLogin),Object(N.a)(()=>this.tryLogin())),{dispatch:!1})}tryLogin(){localStorage.getItem("uid")&&this.router.navigate(["/quiz/news"])}}t.d(l,"AuthModuleNgFactory",function(){return V});var V=e["\u0275cmf"](o,[],function(n){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,O]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,u.NgLocalization,u.NgLocaleLocalization,[e.LOCALE_ID,[2,u["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,r.q,r.q,[]),e["\u0275mpd"](4608,r.d,r.d,[]),e["\u0275mpd"](1073742336,u.CommonModule,u.CommonModule,[]),e["\u0275mpd"](1073742336,p.m,p.m,[[2,p.r],[2,p.k]]),e["\u0275mpd"](1073742336,L,L,[]),e["\u0275mpd"](1073742336,r.p,r.p,[]),e["\u0275mpd"](1073742336,r.i,r.i,[]),e["\u0275mpd"](1073742336,r.n,r.n,[]),e["\u0275mpd"](1024,m.E,function(){return[{}]},[]),e["\u0275mpd"](1024,m.j,function(){return[{key:"auth",reducerFactory:m.s,metaReducers:[],initialState:void 0}]},[]),e["\u0275mpd"](1024,m.F,m.L,[e.Injector,m.E,m.j]),e["\u0275mpd"](1024,m.D,function(){return[S]},[]),e["\u0275mpd"](1024,m.G,function(n){return[n]},[m.D]),e["\u0275mpd"](1024,m.b,function(n,l,t){return[m.M(n,l,t)]},[e.Injector,m.D,m.G]),e["\u0275mpd"](1073873408,m.o,m.o,[m.F,m.b,m.g,m.p]),e["\u0275mpd"](512,U,U,[T.a,p.k,g]),e["\u0275mpd"](1024,T.k,function(n){return[T.e(n)]},[U]),e["\u0275mpd"](1073742336,T.h,T.h,[T.g,T.k,[2,m.p],[2,m.o]]),e["\u0275mpd"](1073742336,o,o,[]),e["\u0275mpd"](1024,p.i,function(){return[[{path:"",component:d}]]},[])])})}}]);